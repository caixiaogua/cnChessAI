# cnChessAI
go语言写的中国象棋AI接口


### 使用tinygo编译为wasm文件
```
tinygo build -target=wasm cnchess.go
```
### 棋盘初始化
```
var Map [][]int
func InitBoard() {
	Map = make([][]int, 10)
	for j := 0; j < 10; j++ {
		Map[j] = make([]int, 9)
	}
	Map[0] = []int{-3, -4, -5, -6, -7, -6, -5, -4, -3}
	Map[1] = []int{0, 0, 0, 0, 0, 0, 0, 0, 0}
	Map[2] = []int{0, -2, 0, 0, 0, 0, 0, -2, 0}
	Map[3] = []int{-1, 0, -1, 0, -1, 0, -1, 0, -1}
	Map[4] = []int{0, 0, 0, 0, 0, 0, 0, 0, 0}
	Map[5] = []int{0, 0, 0, 0, 1, 0, 0, 0, 0}
	Map[6] = []int{1, 0, 1, 0, 0, 0, 1, 0, 1}
	Map[7] = []int{0, 2, 0, 0, 2, 0, 0, 0, 0}
	Map[8] = []int{0, 0, 0, 0, 0, 0, 0, 0, 0}
	Map[9] = []int{3, 4, 5, 6, 7, 6, 5, 4, 3}
}
```
### cnchess.wasm执行后，会在window对象上挂载一个getMove(mapstr)函数
```
let mapstr='-3,-4,-5,-6,-7,-6,-5,-4,-3;0,0,0,0,0,0,0,0,0;0,-2,0,0,0,0,0,-2,0;-1,0,-1,0,-1,0,-1,0,-1;0,0,0,0,0,0,0,0,0;0,0,0,0,1,0,0,0,0;1,0,1,0,0,0,1,0,1;0,2,0,0,0,0,0,2,0;0,0,0,0,0,0,0,0,0;3,4,5,6,7,6,5,4,3';
//执行函数返回一个长度为4的数字，如"0122"，对应起始和目标位置坐标（y0,x0,y,x）
let key=getMove(mapstr)
```
